<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.neu.jing.TaskDao">
    <resultMap type="task" id="taskResultMap" >
        <id property="taskId" column="task_id"/>
        <result property="taskName" column="task_name"/>
        <result property="startTime" column="start_time"/>
        <result property="endTime" column="end_time"/>
        <result property="remark" column="remark"/>
        <result property="taskMajor" column="task_major"/>
        <result property="taskFinish" column="task_finish"/>
    </resultMap>
    <insert id="addTask" parameterType="Task">
        INSERT INTO task(task_name,end_time,remark,task_major,task_finish,type_id)
        VALUE (#{taskName}, #{endTime},#{remark},#{remark},#{taskMajor},#{taskFinish},#{typeId})
    </insert>

    <update id="updateTask" parameterType="Task">
        UPDATE task
        SET task_name = #{taskName}, end_time=#{endTime},remark=#{remark},task_major=#{taskMajor},task_finish=#{taskFinish},type_id=#{typeId}
        WHERE  task_id = #{taskId}
    </update>

    <delete id="deleteTask" parameterType="Task">
        delete from task where task_id=#{taskId}
    </delete>
<!--两表联合??-->
    <select id="findAll" resultType="Task">
        SELECT task_name,start_time,end_time,remark,task_major,task_finish,type_name
        FROM task,task_type
        WHERE task_id=#{taskId}
    </select>

    <select id="todayTask" resultMap="paperResultMap">
        SELECT task_name,remark,task_major,task_finish,type_name
        FROM task,task_type
        WHERE
    </select>

<!--    ?-->
    <insert id="addTodayTask" >
        INSERT INTO today_task(task_name,start_time,end_time,remark,task_major,task_finish,type_name)
        VALUE (#{taskName}, #{startTime},#{endTime},#{remark},#{remark},#{taskMajor},#{taskFinish},#{type_name})

    </insert>
<!--    ?-->
    <insert id="addMajorTask" parameterType="Task">
        INSERT INTO
    </insert>

    <delete id="deleteTodayTask" parameterType="">
        DELETE task FROM task WHERE task.task_id=today_task.task_id
    </delete>
    <delete id="deleteMajorTask">
        DELETE FROM task WHERE task_major = 1;
    </delete>
</mapper>
